{{ if and (isset .Params "featuredpath") (ne .Params.featuredpath "") }}
    {{ $.Scratch.Set "path" .Params.featuredpath }}

    {{ if and (isset .Params "featured") (ne .Params.featuredpath "") }}
        {{ $.Scratch.Set "structType" "page" }}
        {{ partial "img-path" . }}
        {{ $path := $.Scratch.Get "path" }}

        <a href="{{ $path }}/{{ .Params.featured }}" class="image featured" data-lightbox="{{ $path }}/{{ .Params.featured }}">
            <img src="{{ $path }}/{{ .Params.featured }}" alt="{{ .Params.featuredalt }}"/>
        </a>
    {{ end }}
{{ end }}
